import{W as J,x as Z,R as V,y as ee,z as re,A as ne,H as te,I as oe,P as ae,J as ie,i as fe,j as ue,e as le,V as se,K as ce,f as de,M as pe,S as he,w as ge,u as me,U as be,X as ye,Y as ve,Z as we,$ as xe}from"./three-CpHAp9iq.js";import{i as Ce,a as ke,T as G,E as $,G as Pe}from"./three-globe-9MjA3hLf.js";function b(){return b=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},b.apply(null,arguments)}function Ie(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function O(n,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},O(n,e)}function Ee(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,O(n,e)}function A(n){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(n)}function Re(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function W(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W=function(){return!!n})()}function Oe(n,e,r){if(W())return Reflect.construct.apply(null,arguments);var t=[null];t.push.apply(t,e);var o=new(n.bind.apply(n,t));return r&&O(o,r.prototype),o}function H(n){var e=typeof Map=="function"?new Map:void 0;return H=function(t){if(t===null||!Re(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return Oe(t,arguments,A(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),O(o,t)},H(n)}var w=function(n){Ee(e,n);function e(r){var t;return t=n.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+r+" for more information.")||this,Ie(t)}return e}(H(Error));function F(n){return Math.round(n*255)}function Te(n,e,r){return F(n)+","+F(e)+","+F(r)}function T(n,e,r,t){if(t===void 0&&(t=Te),e===0)return t(r,r,r);var o=(n%360+360)%360/60,a=(1-Math.abs(2*r-1))*e,i=a*(1-Math.abs(o%2-1)),f=0,u=0,c=0;o>=0&&o<1?(f=a,u=i):o>=1&&o<2?(f=i,u=a):o>=2&&o<3?(u=a,c=i):o>=3&&o<4?(u=i,c=a):o>=4&&o<5?(f=i,c=a):o>=5&&o<6&&(f=a,c=i);var h=r-a/2,p=f+h,d=u+h,g=c+h;return t(p,d,g)}var N={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function je(n){if(typeof n!="string")return n;var e=n.toLowerCase();return N[e]?"#"+N[e]:n}var Se=/^#[a-fA-F0-9]{6}$/,Me=/^#[a-fA-F0-9]{8}$/,Fe=/^#[a-fA-F0-9]{3}$/,_e=/^#[a-fA-F0-9]{4}$/,_=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,Le=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,Ae=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,He=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function I(n){if(typeof n!="string")throw new w(3);var e=je(n);if(e.match(Se))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(Me)){var r=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:r}}if(e.match(Fe))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(_e)){var t=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:t}}var o=_.exec(e);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var a=Le.exec(e.substring(0,50));if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10),alpha:parseFloat(""+a[4])>1?parseFloat(""+a[4])/100:parseFloat(""+a[4])};var i=Ae.exec(e);if(i){var f=parseInt(""+i[1],10),u=parseInt(""+i[2],10)/100,c=parseInt(""+i[3],10)/100,h="rgb("+T(f,u,c)+")",p=_.exec(h);if(!p)throw new w(4,e,h);return{red:parseInt(""+p[1],10),green:parseInt(""+p[2],10),blue:parseInt(""+p[3],10)}}var d=He.exec(e.substring(0,50));if(d){var g=parseInt(""+d[1],10),l=parseInt(""+d[2],10)/100,m=parseInt(""+d[3],10)/100,v="rgb("+T(g,l,m)+")",x=_.exec(v);if(!x)throw new w(4,e,v);return{red:parseInt(""+x[1],10),green:parseInt(""+x[2],10),blue:parseInt(""+x[3],10),alpha:parseFloat(""+d[4])>1?parseFloat(""+d[4])/100:parseFloat(""+d[4])}}throw new w(5)}function Be(n){var e=n.red/255,r=n.green/255,t=n.blue/255,o=Math.max(e,r,t),a=Math.min(e,r,t),i=(o+a)/2;if(o===a)return n.alpha!==void 0?{hue:0,saturation:0,lightness:i,alpha:n.alpha}:{hue:0,saturation:0,lightness:i};var f,u=o-a,c=i>.5?u/(2-o-a):u/(o+a);switch(o){case e:f=(r-t)/u+(r<t?6:0);break;case r:f=(t-e)/u+2;break;default:f=(e-r)/u+4;break}return f*=60,n.alpha!==void 0?{hue:f,saturation:c,lightness:i,alpha:n.alpha}:{hue:f,saturation:c,lightness:i}}function C(n){return Be(I(n))}var ze=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},B=ze;function P(n){var e=n.toString(16);return e.length===1?"0"+e:e}function L(n){return P(Math.round(n*255))}function Ue(n,e,r){return B("#"+L(n)+L(e)+L(r))}function j(n,e,r){return T(n,e,r,Ue)}function De(n,e,r){if(typeof n=="number"&&typeof e=="number"&&typeof r=="number")return j(n,e,r);if(typeof n=="object"&&e===void 0&&r===void 0)return j(n.hue,n.saturation,n.lightness);throw new w(1)}function Ge(n,e,r,t){if(typeof n=="number"&&typeof e=="number"&&typeof r=="number"&&typeof t=="number")return t>=1?j(n,e,r):"rgba("+T(n,e,r)+","+t+")";if(typeof n=="object"&&e===void 0&&r===void 0&&t===void 0)return n.alpha>=1?j(n.hue,n.saturation,n.lightness):"rgba("+T(n.hue,n.saturation,n.lightness)+","+n.alpha+")";throw new w(2)}function z(n,e,r){if(typeof n=="number"&&typeof e=="number"&&typeof r=="number")return B("#"+P(n)+P(e)+P(r));if(typeof n=="object"&&e===void 0&&r===void 0)return B("#"+P(n.red)+P(n.green)+P(n.blue));throw new w(6)}function S(n,e,r,t){if(typeof n=="string"&&typeof e=="number"){var o=I(n);return"rgba("+o.red+","+o.green+","+o.blue+","+e+")"}else{if(typeof n=="number"&&typeof e=="number"&&typeof r=="number"&&typeof t=="number")return t>=1?z(n,e,r):"rgba("+n+","+e+","+r+","+t+")";if(typeof n=="object"&&e===void 0&&r===void 0&&t===void 0)return n.alpha>=1?z(n.red,n.green,n.blue):"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"}throw new w(7)}var $e=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},Ne=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},We=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},qe=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function k(n){if(typeof n!="object")throw new w(8);if(Ne(n))return S(n);if($e(n))return z(n);if(qe(n))return Ge(n);if(We(n))return De(n);throw new w(8)}function q(n,e,r){return function(){var o=r.concat(Array.prototype.slice.call(arguments));return o.length>=e?n.apply(this,o):q(n,e,o)}}function y(n){return q(n,n.length,[])}function Qe(n,e){if(e==="transparent")return e;var r=C(e);return k(b({},r,{hue:r.hue+parseFloat(n)}))}y(Qe);function E(n,e,r){return Math.max(n,Math.min(e,r))}function Xe(n,e){if(e==="transparent")return e;var r=C(e);return k(b({},r,{lightness:E(0,1,r.lightness-parseFloat(n))}))}y(Xe);function Ye(n,e){if(e==="transparent")return e;var r=C(e);return k(b({},r,{saturation:E(0,1,r.saturation-parseFloat(n))}))}y(Ye);function Ke(n,e){if(e==="transparent")return e;var r=C(e);return k(b({},r,{lightness:E(0,1,r.lightness+parseFloat(n))}))}y(Ke);function Je(n,e,r){if(e==="transparent")return r;if(r==="transparent")return e;if(n===0)return r;var t=I(e),o=b({},t,{alpha:typeof t.alpha=="number"?t.alpha:1}),a=I(r),i=b({},a,{alpha:typeof a.alpha=="number"?a.alpha:1}),f=o.alpha-i.alpha,u=parseFloat(n)*2-1,c=u*f===-1?u:u+f,h=1+u*f,p=(c/h+1)/2,d=1-p,g={red:Math.floor(o.red*p+i.red*d),green:Math.floor(o.green*p+i.green*d),blue:Math.floor(o.blue*p+i.blue*d),alpha:o.alpha*parseFloat(n)+i.alpha*(1-parseFloat(n))};return S(g)}var Ze=y(Je),Q=Ze;function Ve(n,e){if(e==="transparent")return e;var r=I(e),t=typeof r.alpha=="number"?r.alpha:1,o=b({},r,{alpha:E(0,1,(t*100+parseFloat(n)*100)/100)});return S(o)}var er=y(Ve),rr=er;function nr(n,e){if(e==="transparent")return e;var r=C(e);return k(b({},r,{saturation:E(0,1,r.saturation+parseFloat(n))}))}y(nr);function tr(n,e){return e==="transparent"?e:k(b({},C(e),{hue:parseFloat(n)}))}y(tr);function or(n,e){return e==="transparent"?e:k(b({},C(e),{lightness:parseFloat(n)}))}y(or);function ar(n,e){return e==="transparent"?e:k(b({},C(e),{saturation:parseFloat(n)}))}y(ar);function ir(n,e){return e==="transparent"?e:Q(parseFloat(n),"rgb(0, 0, 0)",e)}y(ir);function fr(n,e){return e==="transparent"?e:Q(parseFloat(n),"rgb(255, 255, 255)",e)}y(fr);function ur(n,e){if(e==="transparent")return e;var r=I(e),t=typeof r.alpha=="number"?r.alpha:1,o=b({},r,{alpha:E(0,1,+(t*100-parseFloat(n)*100).toFixed(2)/100)});return S(o)}y(ur);function lr(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}var sr=`.scene-nav-info {
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
}

.scene-tooltip {
  top: 0;
  color: lavender;
  font-size: 15px;
}

.scene-nav-info, .scene-tooltip {
  position: absolute;
  font-family: sans-serif;
  pointer-events: none;
  user-select: none;
}

.scene-container canvas:focus {
  outline: none;
}`;lr(sr);function U(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}function cr(n){if(Array.isArray(n))return n}function dr(n){if(Array.isArray(n))return U(n)}function pr(n,e,r){return(e=wr(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function hr(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gr(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var t,o,a,i,f=[],u=!0,c=!1;try{if(a=(r=r.call(n)).next,e!==0)for(;!(u=(t=a.call(r)).done)&&(f.push(t.value),f.length!==e);u=!0);}catch(h){c=!0,o=h}finally{try{if(!u&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return f}}function mr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function br(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(n,e){return cr(n)||gr(n,e)||X(n,e)||mr()}function R(n){return dr(n)||hr(n)||X(n)||br()}function vr(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var t=r.call(n,e||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wr(n){var e=vr(n,"string");return typeof e=="symbol"?e:e+""}function X(n,e){if(n){if(typeof n=="string")return U(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(n,e):void 0}}var s=window.THREE?window.THREE:{WebGLRenderer:te,Scene:oe,PerspectiveCamera:ae,Raycaster:ie,SRGBColorSpace:fe,TextureLoader:ue,Vector2:le,Vector3:se,Box3:ce,Color:de,Mesh:pe,SphereGeometry:he,MeshBasicMaterial:ge,BackSide:me,EventDispatcher:be,MOUSE:ye,Quaternion:ve,Spherical:we,Clock:xe},kr=Ce({props:{width:{default:window.innerWidth,onChange:function(e,r,t){isNaN(e)&&(r.width=t)}},height:{default:window.innerHeight,onChange:function(e,r,t){isNaN(e)&&(r.height=t)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null,r.toolTipElem&&(r.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(Math.min(1,e.clock.getDelta())),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach(function(a){return a.render(e.scene,e.camera)}),e.enablePointerInteraction){var r=null;if(e.hoverDuringDrag||!e.isPointerDragging){var t=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter(function(a){return e.hoverFilter(a.object)}).sort(function(a,i){return e.hoverOrderComparator(a.object,i.object)}),o=t.length?t[0]:null;r=o?o.object:null,e.intersectionPoint=o?o.point:null}r!==e.hoverObj&&(e.onHover(r,e.hoverObj),e.toolTipElem.innerHTML=r&&ke(e.tooltipContent)(r)||"",e.hoverObj=r)}e.tweenGroup.update()}return this},getPointerPos:function(e){var r=e.pointerPos,t=r.x,o=r.y;return{x:t,y:o}},cameraPosition:function(e,r,t,o){var a=e.camera;if(r&&e.initialised){var i=r,f=t||{x:0,y:0,z:0};if(!o)h(i),p(f);else{var u=Object.assign({},a.position),c=d();e.tweenGroup.add(new G(u).to(i,o).easing($.Quadratic.Out).onUpdate(h).start()),e.tweenGroup.add(new G(c).to(f,o/3).easing($.Quadratic.Out).onUpdate(p).start())}return this}return Object.assign({},a.position,{lookAt:d()});function h(g){var l=g.x,m=g.y,v=g.z;l!==void 0&&(a.position.x=l),m!==void 0&&(a.position.y=m),v!==void 0&&(a.position.z=v)}function p(g){var l=new s.Vector3(g.x,g.y,g.z);e.controls.target?e.controls.target=l:a.lookAt(l)}function d(){return Object.assign(new s.Vector3(0,0,-1e3).applyQuaternion(a.quaternion).add(a.position))}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),i=3;i<o;i++)a[i-3]=arguments[i];return this.fitToBbox(this.getBbox.apply(this,a),r,t)},fitToBbox:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,a=e.camera;if(r){var i=new s.Vector3(0,0,0),f=Math.max.apply(Math,R(Object.entries(r).map(function(g){var l=yr(g,2),m=l[0],v=l[1];return Math.max.apply(Math,R(v.map(function(x){return Math.abs(i[m]-x)})))})))*2,u=(1-o*2/e.height)*a.fov,c=f/Math.atan(u*Math.PI/180),h=c/a.aspect,p=Math.max(c,h);if(p>0){var d=i.clone().sub(a.position).normalize().multiplyScalar(-p);this.cameraPosition(d,i,t)}}return this},getBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},t=new s.Box3(new s.Vector3(0,0,0),new s.Vector3(0,0,0)),o=e.objects.filter(r);return o.length?(o.forEach(function(a){return t.expandByObject(a)}),Object.assign.apply(Object,R(["x","y","z"].map(function(a){return pr({},a,[t.min[a],t.max[a]])})))):null},getScreenCoords:function(e,r,t,o){var a=new s.Vector3(r,t,o);return a.project(this.camera()),{x:(a.x+1)*e.width/2,y:-(a.y-1)*e.height/2}},getSceneCoords:function(e,r,t){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=new s.Vector2(r/e.width*2-1,-(t/e.height)*2+1),i=new s.Raycaster;return i.setFromCamera(a,e.camera),Object.assign({},i.ray.at(o,new s.Vector3))},intersectingObjects:function(e,r,t){var o=new s.Vector2(r/e.width*2-1,-(t/e.height)*2+1),a=new s.Raycaster;return a.params.Line.threshold=e.lineHoverPrecision,a.setFromCamera(o,e.camera),a.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new s.Scene,camera:new s.PerspectiveCamera,clock:new s.Clock,tweenGroup:new Pe}},init:function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=t.controlType,a=o===void 0?"trackball":o,i=t.useWebGPU,f=i===void 0?!1:i,u=t.rendererConfig,c=u===void 0?{}:u,h=t.extraRenderers,p=h===void 0?[]:h,d=t.waitForLoadComplete,g=d===void 0?!0:d;e.innerHTML="",e.appendChild(r.container=document.createElement("div")),r.container.className="scene-container",r.container.style.position="relative",r.container.appendChild(r.navInfo=document.createElement("div")),r.navInfo.className="scene-nav-info",r.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[a]||"",r.navInfo.style.display=r.showNavInfo?null:"none",r.toolTipElem=document.createElement("div"),r.toolTipElem.classList.add("scene-tooltip"),r.container.appendChild(r.toolTipElem),r.pointerPos=new s.Vector2,r.pointerPos.x=-2,r.pointerPos.y=-2,["pointermove","pointerdown"].forEach(function(l){return r.container.addEventListener(l,function(m){if(l==="pointerdown"&&(r.isPointerPressed=!0),!r.isPointerDragging&&m.type==="pointermove"&&(m.pressure>0||r.isPointerPressed)&&(m.pointerType!=="touch"||m.movementX===void 0||[m.movementX,m.movementY].some(function(M){return Math.abs(M)>1}))&&(r.isPointerDragging=!0),r.enablePointerInteraction){var v=x(r.container);r.pointerPos.x=m.pageX-v.left,r.pointerPos.y=m.pageY-v.top,r.toolTipElem.style.top="".concat(r.pointerPos.y,"px"),r.toolTipElem.style.left="".concat(r.pointerPos.x,"px"),r.toolTipElem.style.transform="translate(-".concat(r.pointerPos.x/r.width*100,"%, ").concat(r.height-r.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}function x(M){var D=M.getBoundingClientRect(),Y=window.pageXOffset||document.documentElement.scrollLeft,K=window.pageYOffset||document.documentElement.scrollTop;return{top:D.top+K,left:D.left+Y}}},{passive:!0})}),r.container.addEventListener("pointerup",function(l){r.isPointerPressed=!1,!(r.isPointerDragging&&(r.isPointerDragging=!1,!r.clickAfterDrag))&&requestAnimationFrame(function(){l.button===0&&r.onClick(r.hoverObj||null,l,r.intersectionPoint),l.button===2&&r.onRightClick&&r.onRightClick(r.hoverObj||null,l,r.intersectionPoint)})},{passive:!0,capture:!0}),r.container.addEventListener("contextmenu",function(l){r.onRightClick&&l.preventDefault()}),r.renderer=new(f?J:s.WebGLRenderer)(Object.assign({antialias:!0,alpha:!0},c)),r.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),r.container.appendChild(r.renderer.domElement),r.extraRenderers=p,r.extraRenderers.forEach(function(l){l.domElement.style.position="absolute",l.domElement.style.top="0px",l.domElement.style.pointerEvents="none",r.container.appendChild(l.domElement)}),r.postProcessingComposer=new Z(r.renderer),r.postProcessingComposer.addPass(new V(r.scene,r.camera)),r.controls=new{trackball:ee,orbit:re,fly:ne}[a](r.camera,r.renderer.domElement),a==="fly"&&(r.controls.movementSpeed=300,r.controls.rollSpeed=Math.PI/6,r.controls.dragToLook=!0),(a==="trackball"||a==="orbit")&&(r.controls.minDistance=.1,r.controls.maxDistance=r.skyRadius,r.controls.addEventListener("start",function(){r.controlsEngaged=!0}),r.controls.addEventListener("change",function(){r.controlsEngaged&&(r.controlsDragging=!0)}),r.controls.addEventListener("end",function(){r.controlsEngaged=!1,r.controlsDragging=!1})),[r.renderer,r.postProcessingComposer].concat(R(r.extraRenderers)).forEach(function(l){return l.setSize(r.width,r.height)}),r.camera.aspect=r.width/r.height,r.camera.updateProjectionMatrix(),r.camera.position.z=1e3,r.scene.add(r.skysphere=new s.Mesh),r.skysphere.visible=!1,r.loadComplete=r.scene.visible=!g,window.scene=r.scene},update:function(e,r){if(e.width&&e.height&&(r.hasOwnProperty("width")||r.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(R(e.extraRenderers)).forEach(function(a){return a.setSize(e.width,e.height)}),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),r.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&r.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=e.skyRadius*2.5,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new s.SphereGeometry(e.skyRadius)),r.hasOwnProperty("backgroundColor")){var t=I(e.backgroundColor).alpha;t===void 0&&(t=1),e.renderer.setClearColor(new s.Color(rr(1,e.backgroundColor)),t)}r.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?new s.TextureLoader().load(e.backgroundImageUrl,function(a){a.colorSpace=s.SRGBColorSpace,e.skysphere.material=new s.MeshBasicMaterial({map:a,side:s.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&o()}):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&o())),r.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),r.hasOwnProperty("lights")&&((r.lights||[]).forEach(function(a){return e.scene.remove(a)}),e.lights.forEach(function(a){return e.scene.add(a)})),r.hasOwnProperty("objects")&&((r.objects||[]).forEach(function(a){return e.scene.remove(a)}),e.objects.forEach(function(a){return e.scene.add(a)}));function o(){e.loadComplete=e.scene.visible=!0}}});export{b as _,kr as t};
